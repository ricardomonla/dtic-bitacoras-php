<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DTIC Bitácoras - Gestión de Tareas</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-clipboard-list me-2"></i>
                DTIC Bitácoras
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-tachometer-alt me-1"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="tareas.html">
                            <i class="fas fa-tasks me-1"></i>Tareas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="recursos.html">
                            <i class="fas fa-boxes me-1"></i>Recursos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="calendario.html">
                            <i class="fas fa-calendar-alt me-1"></i>Calendario
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="tecnicos.html">
                            <i class="fas fa-user-cog me-1"></i>Técnicos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="usuarios.html">
                            <i class="fas fa-users me-1"></i>Usuarios
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="reportes.html">
                            <i class="fas fa-chart-bar me-1"></i>Reportes
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
        <!-- Page Header -->
        <div class="page-header">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="page-title">
                        <i class="fas fa-tasks me-3"></i>
                        Gestión de Tareas
                    </h1>
                    <p class="page-subtitle">Administra todas las tareas del sistema DTIC Bitácoras</p>
                </div>
                <button class="btn btn-light" data-bs-toggle="modal" data-bs-target="#addTaskModal">
                    <i class="fas fa-plus me-2"></i>Nueva Tarea
                </button>
            </div>
        </div>

        <!-- Filters and Search -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <input type="text" class="form-control" id="searchTasks" placeholder="Buscar tareas...">
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="filterStatus">
                                    <option value="">Todos los estados</option>
                                    <option value="pending">Pendientes</option>
                                    <option value="in-progress">En Progreso</option>
                                    <option value="completed">Completadas</option>
                                    <option value="cancelled">Canceladas</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="filterPriority">
                                    <option value="">Todas las prioridades</option>
                                    <option value="low">Baja</option>
                                    <option value="medium">Media</option>
                                    <option value="high">Alta</option>
                                    <option value="urgent">Urgente</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="filterAssigned">
                                    <option value="">Todos los usuarios</option>
                                    <option value="jgarcia">Juan García</option>
                                    <option value="mrodriguez">María Rodríguez</option>
                                    <option value="clopez">Carlos López</option>
                                    <option value="anamartinez">Ana Martínez</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-secondary w-100" id="clearFilters">
                                    <i class="fas fa-times me-1"></i>Limpiar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Task Statistics -->
        <div class="row mb-4">
            <div class="col-md-3 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <div class="display-4 text-warning mb-2" id="totalPending">12</div>
                        <h6 class="card-title">Pendientes</h6>
                        <small class="text-muted">Esperando asignación</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <div class="display-4 text-info mb-2" id="totalInProgress">8</div>
                        <h6 class="card-title">En Progreso</h6>
                        <small class="text-muted">Actualmente trabajando</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <div class="display-4 text-success mb-2" id="totalCompleted">25</div>
                        <h6 class="card-title">Completadas</h6>
                        <small class="text-muted">Este mes</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <div class="display-4 text-danger mb-2" id="totalCancelled">3</div>
                        <h6 class="card-title">Canceladas</h6>
                        <small class="text-muted">Este mes</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tasks List -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Lista de Tareas</h5>
                        <div class="btn-group" role="group">
                            <input type="radio" class="btn-check" name="viewMode" id="cardView" autocomplete="off" checked>
                            <label class="btn btn-outline-primary btn-sm" for="cardView">
                                <i class="fas fa-th"></i>
                            </label>
                            <input type="radio" class="btn-check" name="viewMode" id="tableView" autocomplete="off">
                            <label class="btn btn-outline-primary btn-sm" for="tableView">
                                <i class="fas fa-list"></i>
                            </label>
                        </div>
                    </div>
                    <div class="card-body">
                        <!-- Card View -->
                        <div id="cardViewContainer" class="row">
                            <!-- Task Card 1 -->
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="card h-100 border-start border-warning border-4">
                                    <div class="card-header bg-light">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="card-title mb-1">Configurar servidor de desarrollo</h6>
                                                <small class="text-muted">ID: TSK-001</small>
                                            </div>
                                            <span class="badge bg-warning">Pendiente</span>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">Instalar y configurar el servidor de desarrollo para el proyecto DTIC Bitácoras con todos los servicios necesarios.</p>
                                        <div class="row text-center">
                                            <div class="col-6">
                                                <small class="text-muted d-block">Prioridad</small>
                                                <span class="badge bg-danger">Alta</span>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted d-block">Asignado</small>
                                                <span class="fw-bold">Juan García</span>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Estado actual:</small>
                                            <span class="badge bg-light text-dark">Esperando asignación</span>
                                        </div>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Última actividad:</small>
                                            <small>Tarea creada - Sin movimientos previos</small>
                                        </div>
                                        <small class="text-muted">Creado: 15/10/2025 | Vence: 20/10/2025</small>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <div class="btn-group w-100" role="group">
                                            <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-success btn-sm" title="Iniciar">
                                                <i class="fas fa-play"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Task Card 2 -->
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="card h-100 border-start border-info border-4">
                                    <div class="card-header bg-light">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="card-title mb-1">Implementar API de autenticación</h6>
                                                <small class="text-muted">ID: TSK-002</small>
                                            </div>
                                            <span class="badge bg-info">En Progreso</span>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">Desarrollar el sistema de autenticación con JWT tokens y validación de credenciales.</p>
                                        <div class="row text-center">
                                            <div class="col-6">
                                                <small class="text-muted d-block">Prioridad</small>
                                                <span class="badge bg-warning">Media</span>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted d-block">Asignado</small>
                                                <span class="fw-bold">María Rodríguez</span>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Estado actual:</small>
                                            <span class="badge bg-light text-dark">En desarrollo - 75% completado</span>
                                        </div>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Última actividad:</small>
                                            <small>18/10/2025 - Implementado endpoint de login | 16/10/2025 - Configurado JWT</small>
                                        </div>
                                        <small class="text-muted">Creado: 12/10/2025 | Vence: 25/10/2025</small>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <div class="btn-group w-100" role="group">
                                            <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-success btn-sm" title="Completar">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Task Card 3 -->
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="card h-100 border-start border-success border-4">
                                    <div class="card-header bg-light">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="card-title mb-1">Diseñar interfaz de usuario</h6>
                                                <small class="text-muted">ID: TSK-003</small>
                                            </div>
                                            <span class="badge bg-success">Completada</span>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">Crear los mockups y prototipos de la interfaz de usuario para el dashboard principal.</p>
                                        <div class="row text-center">
                                            <div class="col-6">
                                                <small class="text-muted d-block">Prioridad</small>
                                                <span class="badge bg-success">Baja</span>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted d-block">Asignado</small>
                                                <span class="fw-bold">Carlos López</span>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Estado actual:</small>
                                            <span class="badge bg-light text-dark">Completada exitosamente</span>
                                        </div>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Última actividad:</small>
                                            <small>18/10/2025 - Aprobación final del diseño | 17/10/2025 - Revisión con stakeholders | 15/10/2025 - Desarrollo de prototipos</small>
                                        </div>
                                        <small class="text-muted">Creado: 10/10/2025 | Completado: 18/10/2025</small>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <div class="btn-group w-100" role="group">
                                            <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-secondary btn-sm" title="Reabrir">
                                                <i class="fas fa-undo"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Task Card 4 -->
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="card h-100 border-start border-danger border-4">
                                    <div class="card-header bg-light">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="card-title mb-1">Migrar base de datos legacy</h6>
                                                <small class="text-muted">ID: TSK-004</small>
                                            </div>
                                            <span class="badge bg-secondary">Cancelada</span>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">Migrar datos del sistema anterior a la nueva estructura de base de datos MySQL.</p>
                                        <div class="row text-center">
                                            <div class="col-6">
                                                <small class="text-muted d-block">Prioridad</small>
                                                <span class="badge bg-danger">Urgente</span>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted d-block">Asignado</small>
                                                <span class="fw-bold">Ana Martínez</span>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Estado actual:</small>
                                            <span class="badge bg-light text-dark">Cancelada - Requerimientos insuficientes</span>
                                        </div>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Última actividad:</small>
                                            <small>14/10/2025 - Cancelada por falta de documentación | 12/10/2025 - Análisis inicial de BD legacy</small>
                                        </div>
                                        <small class="text-muted">Creado: 08/10/2025 | Cancelado: 14/10/2025</small>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <div class="btn-group w-100" role="group">
                                            <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-warning btn-sm" title="Reactivar">
                                                <i class="fas fa-redo"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Task Card 5 -->
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="card h-100 border-start border-warning border-4">
                                    <div class="card-header bg-light">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="card-title mb-1">Configurar CI/CD Pipeline</h6>
                                                <small class="text-muted">ID: TSK-005</small>
                                            </div>
                                            <span class="badge bg-warning">Pendiente</span>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">Implementar pipeline de integración y despliegue continuo usando GitHub Actions.</p>
                                        <div class="row text-center">
                                            <div class="col-6">
                                                <small class="text-muted d-block">Prioridad</small>
                                                <span class="badge bg-warning">Media</span>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted d-block">Asignado</small>
                                                <span class="fw-bold">Juan García</span>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Estado actual:</small>
                                            <span class="badge bg-light text-dark">Esperando asignación</span>
                                        </div>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Última actividad:</small>
                                            <small>Tarea creada - Sin movimientos previos</small>
                                        </div>
                                        <small class="text-muted">Creado: 16/10/2025 | Vence: 30/10/2025</small>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <div class="btn-group w-100" role="group">
                                            <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-success btn-sm" title="Iniciar">
                                                <i class="fas fa-play"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Task Card 6 -->
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="card h-100 border-start border-info border-4">
                                    <div class="card-header bg-light">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="card-title mb-1">Implementar sistema de logs</h6>
                                                <small class="text-muted">ID: TSK-006</small>
                                            </div>
                                            <span class="badge bg-info">En Progreso</span>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">Desarrollar sistema de logging para auditoría y monitoreo de actividades del sistema.</p>
                                        <div class="row text-center">
                                            <div class="col-6">
                                                <small class="text-muted d-block">Prioridad</small>
                                                <span class="badge bg-success">Baja</span>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted d-block">Asignado</small>
                                                <span class="fw-bold">María Rodríguez</span>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Estado actual:</small>
                                            <span class="badge bg-light text-dark">En desarrollo - 40% completado</span>
                                        </div>
                                        <div class="mb-2">
                                            <small class="text-muted d-block">Última actividad:</small>
                                            <small>19/10/2025 - Configurado logger básico | 17/10/2025 - Diseño de estructura de logs</small>
                                        </div>
                                        <small class="text-muted">Creado: 14/10/2025 | Vence: 28/10/2025</small>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <div class="btn-group w-100" role="group">
                                            <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-success btn-sm" title="Completar">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Table View (Hidden by default) -->
                        <div id="tableViewContainer" class="d-none">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Título</th>
                                            <th>Estado</th>
                                            <th>Prioridad</th>
                                            <th>Asignado</th>
                                            <th>Fecha Creación</th>
                                            <th>Fecha Vencimiento</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>TSK-001</td>
                                            <td>Configurar servidor de desarrollo</td>
                                            <td><span class="badge bg-warning">Pendiente</span></td>
                                            <td><span class="badge bg-danger">Alta</span></td>
                                            <td>Juan García</td>
                                            <td>15/10/2025</td>
                                            <td>20/10/2025</td>
                                            <td>
                                                <div class="btn-group" role="group">
                                                    <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-outline-success btn-sm" title="Iniciar">
                                                        <i class="fas fa-play"></i>
                                                    </button>
                                                    <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>TSK-002</td>
                                            <td>Implementar API de autenticación</td>
                                            <td><span class="badge bg-info">En Progreso</span></td>
                                            <td><span class="badge bg-warning">Media</span></td>
                                            <td>María Rodríguez</td>
                                            <td>12/10/2025</td>
                                            <td>25/10/2025</td>
                                            <td>
                                                <div class="btn-group" role="group">
                                                    <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-outline-success btn-sm" title="Completar">
                                                        <i class="fas fa-check"></i>
                                                    </button>
                                                    <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>TSK-003</td>
                                            <td>Diseñar interfaz de usuario</td>
                                            <td><span class="badge bg-success">Completada</span></td>
                                            <td><span class="badge bg-success">Baja</span></td>
                                            <td>Carlos López</td>
                                            <td>10/10/2025</td>
                                            <td>18/10/2025</td>
                                            <td>
                                                <div class="btn-group" role="group">
                                                    <button class="btn btn-outline-primary btn-sm" title="Editar">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-outline-secondary btn-sm" title="Reabrir">
                                                        <i class="fas fa-undo"></i>
                                                    </button>
                                                    <button class="btn btn-outline-danger btn-sm" title="Eliminar">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div class="modal fade" id="addTaskModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-plus me-2"></i>Nueva Tarea
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addTaskForm">
                        <div class="row">
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label for="taskTitle" class="form-label">Título de la Tarea *</label>
                                    <input type="text" class="form-control" id="taskTitle" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="taskPriority" class="form-label">Prioridad *</label>
                                    <select class="form-select" id="taskPriority" required>
                                        <option value="">Seleccionar...</option>
                                        <option value="low">Baja</option>
                                        <option value="medium">Media</option>
                                        <option value="high">Alta</option>
                                        <option value="urgent">Urgente</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="taskDescription" class="form-label">Descripción</label>
                            <textarea class="form-control" id="taskDescription" rows="3"></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="taskAssigned" class="form-label">Asignar a *</label>
                                    <select class="form-select" id="taskAssigned" required>
                                        <option value="">Seleccionar usuario...</option>
                                        <option value="jgarcia">Juan García - Desarrollador</option>
                                        <option value="mrodriguez">María Rodríguez - Analista</option>
                                        <option value="clopez">Carlos López - Diseñador</option>
                                        <option value="anamartinez">Ana Martínez - Tester</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="taskDueDate" class="form-label">Fecha de Vencimiento</label>
                                    <input type="date" class="form-control" id="taskDueDate">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="taskTags" class="form-label">Etiquetas</label>
                            <input type="text" class="form-control" id="taskTags" placeholder="Separadas por comas">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveTaskBtn">
                        <i class="fas fa-save me-2"></i>Guardar Tarea
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">
                        <i class="fas fa-copyright me-1"></i>
                        2025 DTIC - Departamento de Tecnología de la Información y Comunicación |
                        <i class="fas fa-tasks me-1"></i> Gestión de Tareas
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="js/dashboard.js"></script>
    <script>
        // Tasks page specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📋 Página de Gestión de Tareas cargada');

            // View mode toggle
            const cardViewRadio = document.getElementById('cardView');
            const tableViewRadio = document.getElementById('tableView');
            const cardContainer = document.getElementById('cardViewContainer');
            const tableContainer = document.getElementById('tableViewContainer');

            cardViewRadio.addEventListener('change', function() {
                if (this.checked) {
                    cardContainer.classList.remove('d-none');
                    tableContainer.classList.add('d-none');
                }
            });

            tableViewRadio.addEventListener('change', function() {
                if (this.checked) {
                    tableContainer.classList.remove('d-none');
                    cardContainer.classList.add('d-none');
                }
            });

            // Search functionality
            const searchInput = document.getElementById('searchTasks');
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const taskCards = document.querySelectorAll('#cardViewContainer .card');

                taskCards.forEach(card => {
                    const title = card.querySelector('.card-title').textContent.toLowerCase();
                    const description = card.querySelector('.card-text').textContent.toLowerCase();

                    if (title.includes(searchTerm) || description.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });

            // Filter functionality
            const statusFilter = document.getElementById('filterStatus');
            const priorityFilter = document.getElementById('filterPriority');
            const assignedFilter = document.getElementById('filterAssigned');
            const clearFiltersBtn = document.getElementById('clearFilters');

            function applyFilters() {
                const statusValue = statusFilter.value;
                const priorityValue = priorityFilter.value;
                const assignedValue = assignedFilter.value;
                const taskCards = document.querySelectorAll('#cardViewContainer .card');

                taskCards.forEach(card => {
                    let showCard = true;

                    // Status filter
                    if (statusValue) {
                        const cardStatus = card.querySelector('.badge').textContent.toLowerCase();
                        const filterStatusMap = {
                            'pending': 'pendiente',
                            'in-progress': 'en progreso',
                            'completed': 'completada',
                            'cancelled': 'cancelada'
                        };
                        if (!cardStatus.includes(filterStatusMap[statusValue])) {
                            showCard = false;
                        }
                    }

                    // Priority filter
                    if (priorityValue && showCard) {
                        const cardPriority = card.querySelector('.badge.bg-danger, .badge.bg-warning, .badge.bg-success');
                        if (cardPriority) {
                            const priorityText = cardPriority.textContent.toLowerCase();
                            const priorityMap = {
                                'low': 'baja',
                                'medium': 'media',
                                'high': 'alta',
                                'urgent': 'urgente'
                            };
                            if (!priorityText.includes(priorityMap[priorityValue])) {
                                showCard = false;
                            }
                        }
                    }

                    // Assigned filter
                    if (assignedValue && showCard) {
                        const assignedText = card.querySelector('.fw-bold').textContent.toLowerCase();
                        if (!assignedText.includes(assignedValue)) {
                            showCard = false;
                        }
                    }

                    card.style.display = showCard ? 'block' : 'none';
                });
            }

            statusFilter.addEventListener('change', applyFilters);
            priorityFilter.addEventListener('change', applyFilters);
            assignedFilter.addEventListener('change', applyFilters);

            clearFiltersBtn.addEventListener('click', function() {
                searchInput.value = '';
                statusFilter.value = '';
                priorityFilter.value = '';
                assignedFilter.value = '';
                const taskCards = document.querySelectorAll('#cardViewContainer .card');
                taskCards.forEach(card => card.style.display = 'block');
            });

            // Save task functionality (mock)
            document.getElementById('saveTaskBtn').addEventListener('click', function() {
                const title = document.getElementById('taskTitle').value;
                const priority = document.getElementById('taskPriority').value;

                if (title && priority) {
                    // Close modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('addTaskModal'));
                    modal.hide();

                    // Show success message
                    showNotification('✅ Tarea "' + title + '" creada exitosamente', 'success');

                    // Reset form
                    document.getElementById('addTaskForm').reset();
                } else {
                    showNotification('❌ Por favor complete todos los campos requeridos', 'danger');
                }
            });
        });

        // Notification function
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            notification.style.cssText = `
                top: 20px;
                right: 20px;
                z-index: 9999;
                min-width: 300px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            `;

            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }
    </script>
</body>
</html>